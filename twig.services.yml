services:
  twig:
    class: Drupal\Core\Template\TwigEnvironment
    arguments: ['@app.root', '@cache.default', '%twig_extension_hash%', '@twig.loader', '%twig.config%']
    tags:
      - { name: service_collector, tag: 'twig.extension', call: addExtension }
      - { name: service_collector, tag: 'twig.token_parser', call: addTokenParser }
      - { name: service_collector, tag: 'twig.compiler', call: setCompiler }
      - { name: service_collector, tag: 'twig.lexer', call: setLexer }
  d-twig.extension:
    class: d\Twig\Extension
    tags:
      - { name: twig.extension }
  d-twig.token_parser.bem.block:
    class: d\Twig\BEM\TokenParser
    arguments: [b]
    tags:
      - { name: twig.token_parser }
  d-twig.token_parser.bem.element:
    class: d\Twig\BEM\TokenParser
    arguments: [e, element]
    tags:
      - { name: twig.token_parser }
  d-twig.compiler:
    class: d\Twig\Compiler
    arguments: ['@twig']
    tags:
      - { name: twig.compiler }
  d-twig.lexer:
    class: d\Twig\Lexer
    arguments: ['@twig', []]
    tags:
      - { name: twig.lexer }
